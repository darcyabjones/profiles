#%Module1.0#####################################################################
##
## $name modulefile
##

set ver [lrange [split [ module-info name ] / ] 1 1 ]
set name [lrange [split [ module-info name ] / ] 0 0 ]

proc ModulesHelp { } {
  puts stderr "\tThis module sets the envinronment for $name v$ver"
}

module-whatis   "Set environment variables to use $name version $ver"

prepend-path --delim " " CPPFLAGS -I/usr/local/$name/$ver/fsl/include
prepend-path --delim " " LDFLAGS -L/usr/local/$name/$ver/fsl/lib

prepend-path LD_LIBRARY_PATH /usr/local/$name/$ver/fsl/lib
prepend-path PATH /usr/local/$name/$ver/fsl/bin

set  FSLDIR /usr/local/$name/$ver/fsl
setenv  FSLDIR /usr/local/$name/$ver/fsl

# The following variable selects the default output image type
# Legal values are:  ANALYZE  NIFTI  NIFTI_PAIR  ANALYZE_GZ  NIFTI_GZ  NIFTI_PAIR_GZ
# This would typically be overwritten in ${HOME}/.fslconf/fsl.sh if the user wished
#  to write files with a different format
setenv FSLOUTPUTTYPE NIFTI_GZ

# Comment out the definition of FSLMULTIFILEQUIT to enable 
#  FSL programs to soldier on after detecting multiple image
#  files with the same basename ( e.g. epi.hdr and epi.nii )
setenv FSLMULTIFILEQUIT TRUE

setenv FSLTCLSH $FSLDIR/bin/fsltclsh
setenv FSLWISH $FSLDIR/bin/fslwish

system /usr/local/vlsci/sbin/test_group_member fsl

