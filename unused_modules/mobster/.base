#%Module1.0#####################################################################
##
## $name modulefile
##

set ver [lrange [split [ module-info name ] / ] 1 1 ]
set name [lrange [split [ module-info name ] / ] 0 0 ]

proc ModulesHelp { } {
  puts stderr "\tThis module sets the envinronment for $name v$ver"
}

module-whatis   "Set environment variables to use $name version $ver"

if { ![ is-loaded java/1.8.0_25 ] } {
  module load java/1.8.0_25
}

if { ![ is-loaded R-gcc ] } {
  module load R-gcc
}

if { ![ is-loaded mosaik-gcc ] } {
  module load mosaik-gcc
}

if { ![ is-loaded bwa-intel/0.7.12 ] } {
  module load bwa-intel/0.7.12
}

prepend-path LD_LIBRARY_PATH /usr/local/$name/$ver/lib
prepend-path PATH /usr/local/$name/$ver/bin

prepend-path CLASSPATH /usr/local/$name/$ver/jar
prepend-path PATH /usr/local/$name/bin

setenv MOBSTER_HOME /usr/local/$name/$ver
setenv MOBSTER "java -jar /usr/local/$name/$ver/jars/Mobster.jar -properties /usr/local/$name/$ver/jars/Mobster.properties"
set-alias MOBSTER "java -jar /usr/local/$name/$ver/jars/Mobster.jar -properties /usr/local/$name/$ver/jars/Mobster.properties"
